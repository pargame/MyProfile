# Gemini 프로젝트 가이드: Pargame's Blog

> **핵심 지침:** 이 문서는 Pargame's Blog 프로젝트의 아키텍처, 콘텐츠 관리, 운영 규칙을 정의하는 **단일 진실 공급원(Single Source of Truth)**입니다. Gemini가 수행하는 모든 작업은 반드시 이 가이드를 엄격히 준수해야 합니다.

---

### **1. 전역 운영 원칙 (Global Rules)**
> **모든 작업에 공통적으로 적용되는 최상위 규칙입니다.**

*   **규칙 우선주의:** 작업을 시작하기 전, 이 가이드(`.gemini/gemini.md`)와 `README.md`를 다시 읽습니다. 프로젝트 고유의 규칙은 저의 일반적인 지식보다 항상 우선합니다.
*   **아키텍처 우선 파악:** UI 요소(예: 네비게이션 바, 목록)를 수정하기 전, 해당 요소가 `_config.yml`이나 다른 설정 파일을 통해 동적으로 생성되는지 반드시 먼저 확인합니다. 정적인 템플릿을 직접 수정하기 전에, 데이터가 어디서 오는지 파악하는 것을 우선합니다.
*   **임의 리팩토링 금지:** 현재 파일 구조가 최선이라고 가정하며, 사용자가 명시적으로 요청하기 전까지는 먼저 리팩토링을 제안하지 않습니다.
*   **작업 완료 후 커밋:** 요청된 작업이 성공적으로 완료되면, 변경된 파일들을 스테이징하고 적절한 커밋 메시지와 함께 커밋을 실행합니다. (푸시는 사용자가 직접 수행하므로 실행하지 않습니다.)
*   **Jekyll 문서 인식 규칙:** 모든 컬렉션(`_articles`, `_studies` 등)의 문서 파일은, Jekyll이 이를 '문서'로 인식하고 처리하게 하려면 반드시 파일 최상단에 머리말(Front Matter, 예: `--- ---`)이 있어야 합니다. 내용이 없는 빈 머리말이라도 필수입니다.

---

### **2. 문서 타입별 작업 규칙 (Rules by Document Type)**
> **작업 대상 문서의 타입에 따라 아래의 해당 규칙을 정확히 적용합니다.**

#### **2.1. `article` 문서 작업 규칙**
*   **적용 대상:** `_articles/` 폴더 내의 문서.
*   **핵심 지침:** 아래 `Front Matter` 형식을 정확히 준수하여 작성합니다.
*   **Front Matter 형식:**
    ```yaml
    ---
    title: "게시물 제목"
    date: YYYY-MM-DD HH:MM:SS +0900
    categories: CategoryName
    author: "Gemini"
    ---
    ```
*   **세부 규칙:**
    *   `title`: 직접 작성합니다.
    *   `date`: 현재 날짜 및 시간을 적되, 절대 현재 시간을 넘기면 안 됩니다.
    *   `categories`: 기존 `article` 포스팅과 최대한 통일된 카테고리 하나만 적습니다.
    *   `author`: "Gemini"로 고정합니다.
*   **개별 카테고리 페이지 생성:**
    *   새로운 카테고리(예: 'NewCat')에 대한 전용 페이지(`/category/NewCat/`)를 만들려면, `category/` 폴더 안에 `NewCat.md` 파일을 생성하고 다음과 같이 머리말을 작성해야 합니다.
    ```yaml
    ---
    layout: category
    category: NewCat
    permalink: /category/NewCat/
    ---
    ```

#### **2.2. `study` 및 `project` 문서 작업 규칙**
*   **적용 대상:** `_studies/` 또는 `_projects/` 폴더 내의 문서.
*   **핵심 지침:** 문서는 반드시 컬렉션 폴더(`_studies` 또는 `_projects`) 아래의 하위 폴더에 위치해야 합니다. 이 하위 폴더의 이름이 해당 문서의 그룹명(예: `UnrealEngine`, `AI_Python`)이 됩니다.
*   **Front Matter 형식:**
    ```yaml
    ---
    title: "학습/프로젝트 제목"
    author: "AuthorName"
    ---
    ```
*   **세부 규칙:**
    *   **그룹 분류:** 문서의 소속 그룹은 오직 파일의 경로에 의해 결정됩니다. 예를 들어, `_studies/UnrealEngine/MyDoc.md` 파일은 자동으로 `UnrealEngine` 그룹에 속하게 됩니다. `In:` 속성은 더 이상 사용되지 않습니다.

#### **2.3. `obsidian` 문서 및 아카이브 탐색기 규칙**
*   **적용 대상:** `_obsidian/` 폴더 내의 문서.
*   **핵심 목적:** 이 컬렉션의 주된 목적은 `graph.md` (아카이브 탐색기) 페이지를 통해 문서 간의 관계를 탐색하고 시각화하는 것입니다.
*   **Front Matter:** **반드시 비어있는 머리말(`--- ---`)만 사용해야 합니다.** `title` 속성을 절대로 직접 추가해서는 안 됩니다. Jekyll이 파일명을 기반으로 `title` 속성을 자동으로 생성하며, 내부 로직(문서 목록 등)이 이 값을 사용합니다.
*   **노드 이름(레이블) 결정 방식:** 그래프의 각 노드에 표시되는 이름은 **파일 이름(확장자 제외)**으로 자동 결정됩니다. (예: `MyConcept.md` -> `MyConcept` 노드)
*   **그룹 분류:** `_obsidian/` 폴더 바로 아래의 하위 폴더 이름(예: `Unreal`)이 해당 문서들의 그룹명이 됩니다.
*   **링크 생성 규칙:**
    1.  **링크 대상:** 다른 문서의 **파일 이름(확장자 제외)**과 정확히 일치하는 텍스트를 `[[]]`로 감싸 링크를 만듭니다. 이것이 그래프의 엣지(연결선)가 됩니다.
    2.  **자기 자신 참조 금지:** 현재 편집 중인 문서의 파일 이름과 같은 텍스트는 링크(`[[]]`) 처리하지 않고, 백틱(`` ` ``)으로 감싸 코드 형식으로만 표시합니다.
    3.  **코드 블록 제외:** 링크 생성 규칙은 코드 블록(``` ```) 내부에는 적용하지 않습니다.
*   **작성 예시:** 아래 예시는 `[[APawn]]`, `[[USkeletalMesh]]`, `[[UAnimInstance]]` 등의 링크를 포함하여 그래프 데이터를 생성하는 방법을 보여줍니다.
    > **예시 주제: UAnimBlueprint**
    >
    > **캐릭터 애니메이션의 '뇌'이자 '중앙 제어 시스템'입니다.** ...
    >
    > **핵심 그래프**
    > * **Event Graph (이벤트 그래프):** ... 주요 작업: 소유자 [[APawn]]의 속도 가져오기 ...
    > * **Anim Graph (애님 그래프):** ... 최종적으로 [[USkeletalMesh]]에 적용될 뼈의 포즈(Pose)를 만들어내는 곳입니다. ...
    >
    > **`UAnimBlueprint`와 [[UAnimInstance]]**
    > * **`UAnimBlueprint` (설계도):** ...
    * **[[UAnimInstance]] (실행 인스턴스):** ... `UAnimBlueprint`를 컴파일하면, 내부적으로 [[UAnimInstance]]를 상속받는 **C++ 클래스**가 생성됩니다. ...

---

### **3. 부록 (Appendices)**

#### **3.1. 주요 파일 참조**
*   `_config.yml`: 전역 사이트 설정, 컬렉션 및 `defaults` 정의.
*   `README.md`: 프로젝트 개요 및 사용자용 가이드.
*   `categories.md`, `studies.md`, `projects.md`: 각 컬렉션의 목록을 동적으로 생성하는 페이지.

#### **3.2. 명령어 실행 규칙**
*   **빌드 확인:** `jekyll build` (오래 실행되는 `serve` 명령어는 사용 금지)
*   **의존성 설치:** `bundle install`

#### **3.3. 아카이브 탐색기 (`graph.md`) 아키텍처**
> **핵심 요약:** `graph.md` 페이지는 Jekyll의 Liquid 템플릿과 클라이언트사이드 JavaScript(D3.js)를 결합하여 `_obsidian` 컬렉션의 문서들을 동적 네트워크 그래프로 시각화합니다. 데이터 생성부터 렌더링까지 모든 로직이 `graph.md` 파일 내에 포함되어 있습니다.

*   **1. 데이터 생성 (Jekyll Liquid Template):**
    *   사용자가 `graph.md` 페이지에 접속하면, Jekyll은 빌드 시점에 `graph.md` 파일 상단에 있는 Liquid 코드를 실행합니다.
    *   이 코드는 `site.obsidian` 컬렉션의 모든 문서를 순회하며, 정규표현식을 사용해 `[[링크]]` 구문을 추출합니다.
    *   추출된 데이터를 기반으로 D3.js가 사용할 수 있는 `nodes`와 `links`를 포함한 JSON 객체를 동적으로 생성하여 `window.graphData` 변수에 할당합니다. 이 모든 과정은 서버사이드(Jekyll 빌드)에서 일어납니다.

*   **2. 그래프 렌더링 (Client-side D3.js):**
    *   페이지가 로드되면, `graph.md` 하단의 `<script>` 태그에 포함된 D3.js 코드가 실행됩니다.
    *   이 스크립트는 `window.graphData`에 저장된 JSON 데이터를 사용하여 힘 시뮬레이션(force simulation) 기반의 네트워크 그래프를 SVG 요소로 렌더링합니다.

*   **3. 상호작용 및 콘텐츠 로딩:**
    *   **노드 클릭:** 사용자가 그래프의 노드를 클릭하면, 해당 노드에 연결된 문서의 URL로 `fetch` 요청을 보냅니다.
    *   **콘텐츠 표시:** 가져온 마크다운(.md) 파일의 내용을 파싱하여 페이지의 특정 영역에 동적으로 표시합니다. 이를 통해 페이지 이동 없이 아카이브의 내용을 탐색할 수 있습니다.
    *   **호버 효과:** 노드에 마우스를 올리면, 해당 노드 및 직접 연결된 노드를 제외한 나머지 노드들의 투명도를 낮춰 현재 선택에 집중할 수 있도록 돕습니다.