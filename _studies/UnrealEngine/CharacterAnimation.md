---
In: UnrealEngine
title: "언리얼 엔진 캐릭터 애니메이션 심층 분석"
author: "Gemini"
---

언리얼 엔진의 강력한 애니메이션 시스템은 단순히 캐릭터를 움직이게 하는 것을 넘어, 생명력을 불어넣고 플레이어와 깊은 교감을 가능하게 합니다. 이 문서에서는 언리얼 엔진의 캐릭터 애니메이션 파이프라인을 기초부터 고급 기법까지 체계적으로 심층 분석하여, 실무 수준의 이해를 돕고자 합니다.

### 1장: 애니메이션 데이터의 기초

#### 1.1. 스켈레탈 메시 (Skeletal Mesh)
캐릭터 애니메이션의 가장 기본적인 단위는 **스켈레탈 메시**입니다. 이는 두 가지 핵심 요소로 구성됩니다.
- **메시 (Mesh):** 캐릭터의 겉모습을 이루는 3D 폴리곤 모델입니다. 버텍스, 엣지, 폴리곤으로 구성되며, 각 버텍스는 특정 뼈대에 가중치(Weight)를 통해 연결되어 움직임을 제어받습니다. 이 과정을 '스키닝(Skinning)' 또는 '리깅(Rigging)'이라 합니다.
- **스켈레톤 (Skeleton):** 메시 내부에 계층 구조(Hierarchy)로 존재하는 뼈대(Bone 또는 Joint)의 집합입니다. 최상위 뼈대인 루트(Root)부터 시작하여 척추, 팔, 다리, 손가락 등으로 뻗어 나가는 구조를 가집니다. 이 뼈대의 회전과 이동이 메시의 변형을 일으켜 애니메이션을 만들어냅니다.

#### 1.2. 스켈레톤 애셋 (Skeleton Asset)
스켈레탈 메시를 언리얼 엔진으로 임포트할 때, 스켈레톤 구조는 별도의 **스켈레톤 애셋**으로 생성됩니다. 이 애셋은 애니메이션 공유의 핵심적인 역할을 합니다. 동일한 스켈레톤 애셋을 사용하는 모든 스켈레탈 메시는 애니메이션을 재사용할 수 있습니다. 이는 메모리를 절약하고 개발 효율성을 극대화합니다. 예를 들어, 표준 인간형 스켈레톤 애셋 하나만 있으면, 수십 종의 캐릭터가 동일한 걷기, 뛰기 애니메이션을 공유할 수 있습니다.

#### 1.3. 애니메이션 시퀀스 (Animation Sequence)
**애니메이션 시퀀스**는 특정 기간 동안 스켈레톤의 각 뼈대가 어떻게 움직이는지에 대한 키프레임 데이터를 담고 있는 단일 애니메이션 클립입니다. '공격', '점프', '재장전' 등 개별 동작 하나하나가 시퀀스에 해당합니다. 애셋 에디터에서는 재생 속도 조절, 루핑 설정, 커브(Curve) 데이터 추가 등 다양한 편집이 가능합니다.

### 2장: 애니메이션 로직의 구현

#### 2.1. 애니메이션 블루프린트 (Animation Blueprint)
**애님 블루프린트**는 캐릭터 애니메이션의 두뇌 역할을 하는 강력한 비주얼 스크립팅 시스템입니다. 매 프레임 캐릭터의 최종 포즈를 결정하는 모든 로직이 이곳에서 처리됩니다.
- **이벤트 그래프 (Event Graph):** 게임의 실시간 데이터를 애님 블루프린트로 가져오는 통로입니다. `Event Blueprint Update Animation` 노드를 통해 매 틱(Tick) 업데이트되며, `Try Get Pawn Owner`로 캐릭터 블루프린트에 접근하여 속도, 방향, 공중 상태, 체력 등 다양한 변수를 읽어와 내부 변수에 저장합니다.
- **애님 그래프 (Anim Graph):** 이벤트 그래프에서 준비된 변수들을 활용하여, 애니메이션을 어떻게 조합하고 블렌딩할지 결정하는 곳입니다. 최종 결과물은 `Output Pose` 노드로 출력되어 캐릭터의 포즈를 결정합니다.

#### 2.2. 블렌드 스페이스 (Blend Space)
**블렌드 스페이스**는 두 개 이상의 변수 값에 따라 여러 애니메이션을 연속적으로 부드럽게 블렌딩하는 기술입니다. 가장 흔한 예시는 2D 블렌드 스페이스로, X축을 '방향(-180~180)', Y축을 '속도(0~최대속도)'로 설정하여 '정지', '걷기', '뛰기' 애니메이션을 8방향(전후좌우 대각선)으로 자연스럽게 전환합니다. 이를 통해 플레이어의 입력에 즉각적이고 사실적으로 반응하는 이동 애니메이션을 구현할 수 있습니다.

#### 2.3. 스테이트 머신 (State Machine)
**스테이트 머신**은 캐릭터의 현재 '상태'를 명확히 정의하고, 상태 간의 전환 규칙을 관리하는 FSM(Finite State Machine)입니다.
- **상태 (State):** '지상(Locomotion)', '공중(InAir)', '사망(Dead)' 등 캐릭터가 처할 수 있는 명확한 상황을 나타냅니다. 각 상태는 내부에 애니메이션 시퀀스, 블렌드 스페이스 등을 포함하여 해당 상태일 때의 포즈를 결정합니다.
- **전환 규칙 (Transition Rule):** 상태와 상태를 잇는 화살표로, 특정 조건(예: `Is In Air? == true`)이 충족되면 다른 상태로 전환됩니다. 이 규칙을 통해 '지상' 상태에서 점프하면 '공중' 상태로, '공중'에서 땅에 착지하면 다시 '지상' 상태로 돌아오는 논리적인 흐름을 만듭니다.

### 3장: 고급 애니메이션 기법

#### 3.1. 애니메이션 몽타주 (Animation Montage)
**몽타주**는 스테이트 머신의 복잡한 흐름과 관계없이, 특정 애니메이션을 우선적으로 재생시키기 위한 시스템입니다. 주로 다음과 같은 상황에 사용됩니다.
- **액션 애니메이션:** 공격, 스킬 사용, 재장전, 아이템 사용 등 플레이어의 입력에 의해 촉발되는 일회성 액션.
- **이벤트 트리거:** 몽타주 타임라인에 **노티파이(Notify)**를 추가하여, 애니메이션의 특정 시점에 사운드 재생, 파티클 생성, 공격 판정 활성화 등의 이벤트를 정확하게 발생시킬 수 있습니다.
- **섹션 관리:** 긴 애니메이션을 여러 섹션으로 나누어, 특정 섹션부터 재생하거나 반복시키는 등 복잡한 시퀀스 제어가 가능합니다.

#### 3.2. 루트 모션 (Root Motion)
기본적으로 캐릭터의 월드 공간 이동은 캡슐 컴포넌트와 `Character Movement Component`에 의해 제어됩니다. 하지만 **루트 모션**을 활성화하면, 애니메이션 데이터에 포함된 루트 뼈대의 이동 및 회전 값을 실제 캐릭터의 이동에 직접 적용할 수 있습니다.
- **장점:** 발이 땅에 미끄러지는 'Foot Sliding' 현상을 없애고, 애니메이터가 의도한 정확한 거리와 궤적으로 움직이게 하여 훨씬 무게감 있고 현실적인 움직임을 구현할 수 있습니다.
- **단점:** 모든 움직임이 애니메이션에 종속되므로, 외부 요인에 의한 동적인 이동 제어가 어려워질 수 있습니다. 따라서 필요한 구간에만 선택적으로 루트 모션을 적용하는 것이 중요합니다.

#### 3.3. 애니메이션 리타겟팅 (Animation Retargeting)
**리타겟팅**은 하나의 스켈레톤을 위해 제작된 애니메이션을, 다른 비율이나 구조를 가진 스켈레톤에 재사용하는 기술입니다.
- **프로세스:**
    1. **릭(Rig) 설정:** 두 스켈레톤 모두에 대해 공통된 뼈대 구조(예: Humanoid Rig)를 매핑합니다.
    2. **리타겟 매니저:** 각 뼈대가 소스 스켈레톤의 어떤 뼈대에 해당하는지 설정하고, 뼈대 이름이 다르더라도 수동으로 연결해줍니다.
    3. **리타겟 실행:** 소스 애니메이션을 선택하고 리타겟을 실행하면, 타겟 스켈레톤에 맞는 새로운 애니메이션 애셋이 생성됩니다.
- **효과:** 애니메이션 제작 비용과 시간을 획기적으로 절감시켜주는 필수적인 기능입니다.

#### 3.4. 컨트롤 릭 (Control Rig)
**컨트롤 릭**은 언리얼 엔진 내에서 직접 절차적(Procedural) 애니메이션을 생성하거나, 기존 애니메이션을 동적으로 수정할 수 있는 강력한 노드 기반 리깅 시스템입니다. 시퀀서와 결합하여 시네마틱을 제작하거나, 런타임에 다음과 같은 고급 기법을 구현하는 데 사용됩니다.
- **IK (Inverse Kinematics):** 손이나 발과 같은 끝단 이펙터(End Effector)의 위치를 기준으로 상위 뼈대들의 각도를 자동으로 계산하여, 캐릭터가 자연스럽게 지형에 발을 맞추거나(Foot IK), 벽에 손을 짚는(Hand IK) 등의 상호작용을 구현합니다.
- **절차적 애니메이션:** 바라보기(Look At), 조준(Aim Offset) 보정, 절차적 흔들림(Procedural Recoil) 등 게임 상황에 실시간으로 반응하는 동적인 애니메이션을 코드가 아닌 릭 시스템으로 구현할 수 있습니다.

이처럼 언리얼 엔진의 애니메이션 시스템은 다양한 기능들이 유기적으로 결합된 정교한 파이프라인입니다. 각 요소의 역할과 상호작용을 깊이 이해함으로써, 개발자는 상상 속의 캐릭터 움직임을 현실로 구현할 수 있는 무한한 가능성을 얻게 됩니다.