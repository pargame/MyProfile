---
title: "아이디어에서 완성까지: Jekyll과 D3.js로 지식 그래프 만들기"
date: 2025-08-10 23:55:00 +0900
categories: Tech
author: "Gemini"
---

## 서문: 흩어진 지식을 연결하려는 꿈

Obsidian의 `[[위키 링크]]`는 문서들을 유기적으로 연결하는 강력한 기능이지만, 그 연결망은 개별 문서를 열기 전까지는 보이지 않습니다. "이 연결을 한눈에 볼 수 있는 시각적 그래프로 만들면 어떨까?" 이 작은 아이디어에서 '아카이브 그래프 페이지' 개발 여정이 시작되었습니다. 목표는 Jekyll 블로그의 `_obsidian` 컬렉션을 분석해, 상호작용이 가능한 동적 네트워크 그래프를 구현하는 것이었습니다.

---

### 1장. 첫걸음: `vis.js`로 그린 초상화

개발 초기, 가장 중요한 것은 '빠른 프로토타이핑'이었습니다. 아이디어를 신속하게 눈으로 확인하기 위해 선택한 도구는 **`vis.js`**였습니다. 이 라이브러리는 최소한의 코드로 준수한 네트워크 그래프를 만들 수 있어, 초기 버전 구현에 안성맞춤이었습니다.

덕분에 단시간 내에 기본적인 노드와 링크를 표시하고 물리 시뮬레이션으로 배치하는 핵심 기능을 구현할 수 있었습니다. 하지만 프로토타입이 구체화될수록 `vis.js`의 한계가 명확해지기 시작했습니다.

### 2장. 전환점: D3.js를 선택한 이유

`vis.js`는 훌륭한 '완성품'이었지만, 우리는 '맞춤 제작'이 필요했습니다. 다음과 같은 세 가지 결정적인 이유로, 더 근본적이고 강력한 도구인 **D3.js**로의 전환을 결정했습니다.

1.  **시각적 표현의 한계:** "연결이 많은 노드는 더 크게", "내용이 없는 노드는 다른 색으로"와 같이 데이터에 기반한 세밀한 시각적 규칙을 적용하기가 까다로웠습니다.
2.  **물리 시뮬레이션의 경직성:** 노드 간의 장력이나 간격을 우리가 원하는 느낌으로 미세하게 조정하는 데 제약이 있었습니다.
3.  **상호작용의 제약:** `vis.js`는 주로 Canvas 기반으로 렌더링되어, 각 노드에 정교한 마우스 호버 효과를 주거나 CSS로 직접 스타일을 제어하는 것이 복잡했습니다.

D3.js는 '차트 라이브러리'가 아니라 '데이터를 DOM에 바인딩하는 도구'입니다. 이는 곧 상상할 수 있는 모든 시각적 표현과 상호작용을 SVG 요소로 직접 구현할 수 있다는 의미였고, 우리가 원하던 자유도를 제공하는 완벽한 해답이었습니다.

---

### 3장. 핵심 과제 해결: 데이터 파싱과 그래프 렌더링

D3.js로의 전환은 새로운 과제들을 가져왔습니다. 가장 큰 두 가지는 'Jekyll 환경에서 그래프 데이터 생성하기'와 'D3.js로 원하는 그래프 구현하기'였습니다.

-   **데이터 생성:** Jekyll의 Liquid 템플릿 언어만으로 모든 문서의 `[[링크]]`를 파싱하여 D3.js가 요구하는 JSON 구조(노드와 엣지)로 만드는 복잡한 필터 체인을 구현했습니다.
-   **링크-URL 매핑:** `[[AActor]]`라는 링크 텍스트를 실제 URL(`/obsidian/Unreal/AActor/`)로 변환하기 위해, 페이지 로드 시 모든 문서의 제목과 URL을 `Map` 객체에 미리 저장해두는 `lookupMap`을 구현하여 문제를 해결했습니다.
-   **상태 동기화:** 그래프, 문서 목록, 문서 내용 뷰라는 세 컴포넌트의 상태를 동기화하기 위해, `renderDocumentContent`라는 중앙 관리 함수를 두어 상태 변경 로직을 중앙화했습니다.
-   **성능 최적화:** 마우스 호버 시 연결된 노드를 빠르게 찾기 위해, 미리 노드 간의 연결 정보를 인덱싱해두는 `linkedByIndex` 객체를 활용하여 뛰어난 반응성을 확보했습니다.

### 4장. 디테일의 악마: 노드 레이블과의 사투

모든 기능이 완성되었다고 생각했을 때, 마지막 복병이 나타났습니다. 새로 생성된 빈 노드들의 레이블이 `USpringArmComponent`가 아닌 `Uspringarmcomponent`처럼 잘못된 대소문자로 표시되는 문제였습니다.

**원인 분석:**
문제의 원인은 Jekyll의 동작 방식에 있었습니다.
1.  문서에 `title` 속성이 없으면, Jekyll은 파일명을 기반으로 `title`을 **자동 생성**합니다.
2.  이 과정에서 Jekyll은 파일명의 첫 글자만 대문자로 남기고 나머지는 **모두 소문자로 변경**해버렸습니다.
3.  제가 작성한 그래프 스크립트는 이 잘못된 `title`을 그대로 가져와 노드 레이블로 사용했던 것입니다.

**해결 과정:**
이 문제를 해결하기 위한 여정은 순탄치 않았습니다.
-   **1차 시도:** `title`이 없을 때만 파일명을 쓰도록 한 로직은, Jekyll이 항상 `title`을 만들어주었기에 실패했습니다.
-   **2차 시도:** `title`을 무시하고 항상 URL에서 파일명을 추출하도록 로직을 변경했지만, Jekyll URL(`.../MyFile/`)의 마지막 `/` 문자를 고려하지 않은 단순한 문자열 처리로 인해 모든 레이블이 사라지는 더 큰 문제를 낳았습니다.
-   **최종 해결:** URL을 `/`로 분리한 후, 비어있지 않은 마지막 요소를 가져오는 안정적인 방식으로 로직을 수정하여, 마침내 모든 노드가 올바른 이름으로 표시되도록 문제를 해결할 수 있었습니다.

---

## 결론: 도구에 대한 깊은 이해의 중요성

오늘의 개발 과정은 아이디어를 현실로 만드는 여정이었습니다. `vis.js`로 빠르게 시작했지만, 프로젝트의 요구사항이 명확해짐에 따라 더 높은 자유도를 제공하는 D3.js로 과감히 전환했습니다. Jekyll의 특성과 자바스크립트의 미묘한 오류를 해결해나가면서, 결국 우리가 원하던 모습의 인터랙티브 지식 그래프를 완성할 수 있었습니다.

이 과정은 단순히 기능을 구현하는 것을 넘어, 각 도구의 철학과 한계를 깊이 이해하고 문제의 근본 원인을 파고드는 것의 중요성을 다시 한번 일깨워주었습니다.